## Модуль 3. Business Intelligence.
В данном модуле познакомимся с популярными BI инструментами и попробуем использовать их для создания BI решения.
### 3.1. Знакомство с BI-инструментом.
В качестве BI-инструмента я решил использовать `Tableau`. В идеале нужно было скачать dekstop'ную версию Tableau, однако есть две проблемы.  
1) Сайт недоступен в России, можно обойти с помощью VPN.  
2) Платно :(, можно пройти документами про учебу в университете.

Поэтому я решил использовать Tableau Public, с которым можно работать в браузере.  
Сделаем два дашборда по данным `Sample - Superstore - Dashboard.xlsx`. Загрузим этот файл и соединим таблицы, нарисуем макеты для удобства.  
Первый макет (дашборд по работе менеджеров):  
  
![image](https://github.com/f0rest-mAker/DataLearn/blob/8361083c0d58be5e86c7adb75a95da2ef029df57/DE-101/Module3/img/layout1.png)  
  
Второй макет: (дашборд по продажам):
  
![image](https://github.com/f0rest-mAker/DataLearn/blob/8361083c0d58be5e86c7adb75a95da2ef029df57/DE-101/Module3/img/layout2.png)  
  
Параллельно учим основы Tableau и делаем графики, потом соединяем их в единый дашборд:  
   
![image](https://github.com/f0rest-mAker/DataLearn/blob/8361083c0d58be5e86c7adb75a95da2ef029df57/DE-101/Module3/img/dash1.png)  
  
![image](https://github.com/f0rest-mAker/DataLearn/blob/8361083c0d58be5e86c7adb75a95da2ef029df57/DE-101/Module3/img/dash2.png)  
  
![image](https://github.com/f0rest-mAker/DataLearn/blob/8361083c0d58be5e86c7adb75a95da2ef029df57/DE-101/Module3/img/dash3.png)  
  
![image](https://github.com/f0rest-mAker/DataLearn/blob/8361083c0d58be5e86c7adb75a95da2ef029df57/DE-101/Module3/img/dash4.png)  

Задание с Tableau Server не получилось сделать, так как мой ноутик не смог вывести его, поэтому пришлось пропустить его.  
### 3.2. Финальный проект.
Попробуем сделать финальный проект 3-го модуля, в нем нужно построить BI-решение, которое поможет нам выбрать дом для сдачи в аренду.  
Проблема появилась сразу, это размер файлов, так как в tableau public нужно загружать их, а у меня интернет не самый быстрый, из=за чего 1 файл мог загружаться больше 3-4 часов, поэтому я решил скачать другой датасет на эту же тему продаж.  
Датасет взял по этой [ссылке](https://www.kaggle.com/datasets/mysarahmadbhat/airbnb-listings-reviews/data)  
  
![image](https://github.com/f0rest-mAker/DataLearn/blob/a53a0bd65df8a88ac2617564d892c18219e3af4f/DE-101/Module3/img/airbnb.png)  

Конечно, этот датасет не заменит полностью исходный, но как по мне, они более менее похожи. Скачиваем два файла: `listings.csv` и `reviews.csv` и загружаем их в tableau public. У этих файлов есть общий атрубит `listing_id`, с помощью него будем создавать связь между двумя таблицами.  
### Dashboard Canvas
Попробуем сделать Dashboard Canvas для нашего проекта.  

![image](https://github.com/f0rest-mAker/DataLearn/blob/832fcd18afdb0d9491a960ae0b9933eacd0d4077/DE-101/Module3/img/Canvas.png)  

![image](https://github.com/f0rest-mAker/DataLearn/blob/832fcd18afdb0d9491a960ae0b9933eacd0d4077/DE-101/Module3/img/Canvas%20Layout.png)  
  
### Дашборды
В качестве основного показателя дома будем брать рейтинг, который будем высчитывать по формуле:  
Overall Rating = review_scores_rating + (review_scores_accuracy + review_scores_cleanliness + review_scores_checkin + review_scores_communication + review_scores_location + review_scores_value) / 6  
Стоит отметить, что несколько листингов могут описывать один и тот же объект, поэтому при составлении графиков чтоит брать среднее значение Overall Rating для каждого дома, в добавок к этому информацию про кол. спален, вместительности будем брать из листинга, который имел самый поздний отзыв из имеющихся. Добавим следующие параметры: минимальное количество отзывов, минимальное количество спален, минимальная вместительность и топ N домов, а в фильтр добавим "Год" и "Тип комнаты".  
В качестве основного графика я взял карту, ведь там можно удобно показать местоположение городов, районов и домов, а также с помощью цветов и размеров меток показать характеристики домов. Также при нажатии на метки будет отображаться информация выбранного объекта. 
Сделаем два дашборда, которые будут связаны между собой. В первом сделаем карту городов и их районов, также будем сравнивать лучший город по среднему рейтингу домов (review_scores_rating) и выбранный город.  

![image](https://github.com/f0rest-mAker/DataLearn/blob/d9422d0ee0865ac9a9b75af9519d7c39c03716cd/DE-101/Module3/img/dash5.png)  
  
![image](https://github.com/f0rest-mAker/DataLearn/blob/d9422d0ee0865ac9a9b75af9519d7c39c03716cd/DE-101/Module3/img/dash6.png)  

Добавим фильтр действие, которое будет переносить нас на другой дашборд (информация про дома). Поместим его в tooltip карты города, при нажатии на него нас будет перебрасывать на дашбор с фильтром выбранного города.  

![image](https://github.com/f0rest-mAker/DataLearn/blob/d9422d0ee0865ac9a9b75af9519d7c39c03716cd/DE-101/Module3/img/dash7.png)  

В дашборде про дома сделаем две карты: одна для районов, другая для домов, таблицы с информацией о лучшем доме по рейтингу и выбранном доме, а также для них добавим динамику количества отзывов по годам. Выделим места под параметры, которые были отмечены ранее и фильтры по годам и типам комнат.  

![image](https://github.com/f0rest-mAker/DataLearn/blob/d9422d0ee0865ac9a9b75af9519d7c39c03716cd/DE-101/Module3/img/dash8_new.png)
  
![image](https://github.com/f0rest-mAker/DataLearn/blob/d9422d0ee0865ac9a9b75af9519d7c39c03716cd/DE-101/Module3/img/dash9_new.png)  

В таблице выделим следующие параметры: все рейтинги, оценки, кол. спален, вместительность и количество объявлении, которые относятся к данному дому.  
Итак, если основываться на наших дашбордах, то можно выяснить следующее:  
1) Лучшим городом можно считать Mexico City, так как он имеет высокий рейтинг, хорошие цены, так ещё покупатели довольны ей, так же стоит отметить Paris и New York, так как там находится очень много сдаваемого жилья, однако они стоят немного дороже, но покупатели более менее довольны ценой.
2) В Мексике стоит присмотреться к району Cuauhtemoc, у него довольно хорошие оценки и большое количество домов, также можно посмотреть район Miguel Hidalgo, хоть там немного дорогие дома чем в Cuauhtemoc, но средняя оценка чуть выше.
3) В районе Cuauhtemoc лучшим объявлением является: "Depa en dos plantas con amplia terraza, sanitizado" имея при себе отличные оценки, а также нормальную цену, ещё есть "Bonito Apartamento Art Deco en el Barrio Condesa" у него больше отзывов, так как сдавался долгое время (видно из line plot), и более низкая цена, так что данный дом тоже может подойти для сдачи в аренду.  
  
Стоит отметить, что для всех домов есть единая тенденция, в 2020-21 году количество отзывов сильно уменьшилось, так как в данный период был карантин и многим не было дело до аренды. Так что если бы не было ковида, то количество отзывов увеличилось бы для всех домов, что показало бы более реальные цифры оценок.  
А теперь попробую поглубже поизучать Tableau, потом стоит попробовать улучшить данные дашборды.  

### Ссылки на дашборды
[AirBNB](https://public.tableau.com/views/AirbnbDashBoard/Dashboard2?:language=en-US&:sid=&:redirect=auth&:display_count=n&:origin=viz_share_link)  
[SuperStore](https://public.tableau.com/views/Dashboard_17229760694220/Dashboard2?:language=en-US&:sid=&:redirect=auth&:display_count=n&:origin=viz_share_link)
